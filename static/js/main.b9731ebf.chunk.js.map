{"version":3,"sources":["logo.svg","store/okr.js","store/index.js","components/okr/parts/list-name.js","components/okr/parts/key-result.js","components/okr/parts/objective.js","components/okr/parts/task-add.js","components/okr/parts/task.js","components/okr/parts/add-group.js","components/okr/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","initialState","primaryObjective","keyResults","taskGroups","title","id","tasks","groupId","status","enabled","undefined","getGroupedTasks","state","groups","okr","map","group","filter","task","backlogTasks","t","push","updateTask","type","okrActions","addTask","updateObjective","updatePrimaryObjective","updateKeyResult","keyResult","index","updateListName","updateGroupTitle","deleteTask","addGroupAfter","afterId","console","log","closeGroup","Symbol","rootReducer","combineReducers","action","g","afterGroup","find","afterIndex","indexOf","newGroup","nanoid","newGroups","splice","composeEnhancers","composeWithDevTools","serialize","store","createStore","ls","localStorage","getItem","JSON","parse","getLocalStorageState","subscribe","setItem","stringify","getState","OkrListName","onChange","onClose","value","valueChanged","val","className","defaultValue","evt","target","placeholder","onClick","window","confirm","OkrKeyResult","Objective","objective","onObjectiveChange","onKeyResultChange","onAddKeyResult","keyResultJsx","kr","i","key","OkrTaskAdd","onComplete","currentValue","aria-label","role","onKeyPress","charCode","onKeyUp","OkrTask","onWaste","disabled","changed","onMouseDown","originalEvt","startX","clientX","startY","clientY","taskElm","currentTarget","done","mouseMove","offsetX","offsetY","style","transform","setTimeout","classList","add","document","addEventListener","mouseUp","removeEventListener","remove","onDoubleClick","elm","focus","readOnly","onBlur","onKeyDown","defaultChecked","checked","OkrAddGroup","onAdd","mapStateToProps","groupedTasks","connect","dispatch","bindActionCreators","updatedTask","newTask","groupedProps","App","src","logo","alt","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"kFAAAA,EAAOC,QAAU,IAA0B,kC,+yBCEpC,IAAMC,EAAe,CACxBC,iBAAkB,qCAClBC,WAAY,CACR,kBACA,sBACA,mDAEJC,WAAY,CACR,CAAEC,MAAO,kBAAmBC,GAAI,GAChC,CAAED,MAAO,sBAAuBC,GAAI,IAExCC,MAAO,CACH,CAAED,GAAI,EAAGD,MAAO,sBAAuBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACvE,CAAEJ,GAAI,EAAGD,MAAO,wBAAyBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACzE,CAAEJ,GAAI,EAAGD,MAAO,uBAAwBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACxE,CAAEJ,GAAI,EAAGD,MAAO,sDAAuDG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACvG,CAAEJ,GAAI,EAAGD,MAAO,yBAA0BG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GAC1E,CAAEJ,GAAI,EAAGD,MAAO,sBAAuBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACvE,CAAEJ,GAAI,EAAGD,MAAO,wBAAyBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACzE,CAAEJ,GAAI,EAAGD,MAAO,qBAAsBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACtE,CAAEJ,GAAI,EAAGD,MAAO,gCAAiCG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACjF,CAAEJ,GAAI,EAAGD,MAAO,uCAAwCG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACxF,CAAEJ,GAAI,IAAKD,MAAO,kCAAmCG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GAErF,CAAEJ,GAAI,GAAID,MAAO,qBAAsBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACvE,CAAEJ,GAAI,GAAID,MAAO,+BAAgCG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACjF,CAAEJ,GAAI,GAAID,MAAO,mBAAoBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GACrE,CAAEJ,GAAI,GAAID,MAAO,oBAAqBG,QAAS,EAAGC,OAAQ,EAAGC,SAAS,GAEtE,CAAEJ,GAAI,GAAID,MAAO,yBAAiBG,aAASG,EAAWF,OAAQ,EAAGC,SAAS,GAC1E,CAAEJ,GAAI,GAAID,MAAO,yBAAiBG,aAASG,EAAWF,OAAQ,EAAGC,SAAS,KAIrEE,EAAkB,SAACC,GAC5B,IAAMC,EAASD,EAAME,IAAIX,WAAWY,IAAI,SAACC,GACrC,IAAMV,EAAQM,EAAME,IAAIR,MAAMW,OAAO,SAAAC,GAAI,OAAIA,EAAKX,UAAYS,EAAMX,KACpE,OAAO,EAAP,GAAYW,EAAZ,CAAoBV,YAGlBa,EAAeP,EAAME,IAAIR,MAAMW,OAAO,SAAAG,GAAC,YAAkBV,IAAdU,EAAEb,UAInD,OAFAM,EAAOQ,KAAK,CAAEjB,MAAO,gBAAiBC,IAAK,EAAGC,MAAOa,IAE9CN,GAGJ,SAASS,EAAWJ,GAC1B,MAAO,CAAEK,KAAMC,EAAWF,WAAYJ,QAGhC,SAASO,EAAQP,GACpB,MAAO,CAAEK,KAAMC,EAAWC,QAASP,QAGhC,SAASQ,EAAgBzB,GAC5B,MAAO,CAAEsB,KAAMC,EAAWG,uBAAwB1B,oBAG/C,SAAS2B,EAAgBC,EAAWC,GACvC,MAAO,CAAEP,KAAMC,EAAWI,gBAAiBC,YAAWC,SAGnD,SAASC,EAAe3B,EAAOC,GAClC,MAAO,CAAEkB,KAAMC,EAAWQ,iBAAkB5B,QAAOC,MAGhD,SAAS4B,EAAW5B,GACvB,MAAO,CAAEkB,KAAMC,EAAWS,WAAY5B,MAGnC,SAAS6B,EAAclB,EAAOmB,GAGjC,OAFAC,QAAQC,IAAIrB,EAAOmB,GAEZ,CAAEZ,KAAMC,EAAWU,cAAeC,UAASnB,SAG/C,SAASsB,EAAWjC,GAEvB,OADA+B,QAAQC,IAAI,MAAOhC,GACZ,CAAEkB,KAAMC,EAAWc,WAAYjC,MAGnC,IAAMmB,EAAa,CACtBF,WAAYiB,OAAO,eACnBd,QAASc,OAAO,YAChBZ,uBAAwBY,OAAO,4BAC/BX,gBAAiBW,OAAO,qBACxBP,iBAAkBO,OAAO,sBACzBN,WAAYM,OAAO,eACnBL,cAAeK,OAAO,mBACtBD,WAAYC,OAAO,gBCxFVC,EAAcC,0BAAgB,CACvC3B,ID0Fe,WAA0C,IAAzCF,EAAwC,4DAA3BZ,GAAgB0C,EAAW,uCACxD,OAAOA,EAAOnB,MACV,KAAKC,EAAWc,WACZ,IAAMhC,EAAQM,EAAMN,MAAMS,IAAI,SAAAK,GAAC,OAAIA,EAAEb,UAAYmC,EAAOrC,GAAKe,EAA1B,KAAkCA,EAAlC,CAAqCb,aAASG,MAC3EP,EAAaS,EAAMT,WAAWc,OAAO,SAAA0B,GAAC,OAAIA,EAAEtC,KAAOqC,EAAOrC,KAIhE,OAAO,EAAP,GAAYO,EAAZ,CAAmBT,aAAYG,UAEnC,KAAKkB,EAAWQ,iBACZ,IAAM7B,EAAaS,EAAMT,WAAWY,IAAI,SAAA4B,GACpC,OAAOA,EAAEtC,KAAOqC,EAAOrC,GAAhB,KAA0BsC,EAA1B,CAA6BvC,MAAOsC,EAAOtC,QAAQuC,IAG9D,OAAO,EAAP,GACO/B,EADP,CAEIT,eAGR,KAAKqB,EAAWI,gBACZ,IAAM1B,EAAU,YAAQU,EAAMV,YAE9B,OADAA,EAAWwC,EAAOZ,OAASY,EAAOb,UAC3B,EAAP,GACOjB,EADP,CAEIV,eAGR,KAAKsB,EAAWU,cACZ,IAAMU,EAAahC,EAAMT,WAAW0C,KAAK,SAAAF,GAAC,OAAIA,EAAEtC,KAAOqC,EAAOP,UACxDW,EAAalC,EAAMT,WAAW4C,QAAQH,GACtCI,EAAQ,KAAQN,EAAO1B,MAAf,CAAsBX,GAAI4C,QAElCC,EAAS,YAAQtC,EAAMT,YAG7B,OAFA+C,EAAUC,OAAOL,EAAW,EAAG,EAAGE,GAE3B,EAAP,GACOpC,EADP,CAEIT,WAAY+C,IAGpB,KAAK1B,EAAWG,uBACZ,OAAO,EAAP,GACOf,EADP,CAEIX,iBAAkByC,EAAOzC,mBAGjC,KAAKuB,EAAWS,WACZ,OAAO,EAAP,GACOrB,EADP,CAEIN,MAAOM,EAAMN,MAAMW,OAAO,SAAAG,GAAC,OAAIA,EAAEf,KAAOqC,EAAOrC,OAGvD,KAAKmB,EAAWF,WACZ,IAAMhB,EAAQM,EAAMN,MAAMS,IAAI,SAAAG,GAAI,OAAIA,EAAKb,KAAOqC,EAAOxB,KAAKb,GAAKqC,EAAOxB,KAAOA,IAEjF,OAAO,EAAP,GACON,EADP,CAEIN,UAGR,KAAKkB,EAAWC,QACZ,IAAMnB,EAAK,sBACJM,EAAMN,OADF,IAGHC,aAASG,EACTF,OAAQ,GACLkC,EAAOxB,KALP,CAMHb,GAAI4C,UAIZ,OAAO,EAAP,GACOrC,EADP,CAEIN,UAGR,QACI,OAAOM,MCrKbwC,EAAmBC,8BAAoB,CACzCC,WAAW,IAQR,IAAMC,EAAQC,sBAAYhB,EALjC,WACI,IAAMiB,EAAKC,aAAaC,QAAQ,OAChC,OAAOF,EAAKG,KAAKC,MAAMJ,GAAM,GAGaK,GAAwBV,KAKtEG,EAAMQ,UAAU,SAAAnD,GACZ8C,aAAaM,QAAQ,MAAOJ,KAAKK,UAAUV,EAAMW,e,gBCFtCC,EAnBK,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MACxC,SAASC,EAAaC,GACpBJ,GAAYA,EAASI,GASvB,OACE,yBAAKC,UAAU,iBACX,2BAAOlD,KAAK,OAAOmD,aAAcJ,EAAOF,SAAU,SAAAO,GAAG,OAAIJ,EAAaI,EAAIC,OAAON,QAAQO,YAAY,cACrG,4BAAQC,QATd,WACKC,OAAOC,QAAQ,kBAChBX,MAOE,iBCFOY,EAZM,SAAC,GAAyB,IAAvBX,EAAsB,EAAtBA,MAAOF,EAAe,EAAfA,SAC7B,SAASG,EAAaC,GACpBJ,GAAYA,EAASI,GAGvB,OACE,yBAAKC,UAAU,kBACX,2BAAOlD,KAAK,OAAOmD,aAAcJ,EAAOF,SAAU,SAAAO,GAAG,OAAIJ,EAAaI,EAAIC,OAAON,QAAQO,YAAY,sBCgB9FK,EAtBG,SAAC,GAA8F,IAAD,IAA5FhF,kBAA4F,MAA/E,GAA+E,MAA3EiF,iBAA2E,MAA/D,GAA+D,EAA3DC,EAA2D,EAA3DA,kBAAmCC,GAAwB,EAAxCC,eAAwC,EAAxBD,mBAChFE,EAAerF,EAAWa,IAAI,SAACyE,EAAIC,GACvC,OAAO,kBAAC,EAAD,CAAcC,IAAKD,EAAGnB,MAAOkB,EAAIpB,SAAU,SAAAI,GAAG,OAAIa,EAAkBb,EAAKiB,QAOlF,OACE,yBAAKhB,UAAU,iBACX,2BACElD,KAAK,OACLkD,UAAU,wBACVC,aAAcS,EACdf,SAAU,SAAAO,GAAG,OAVKH,EAUgBG,EAAIC,OAAON,WATnDc,GAAqBA,EAAkBZ,IADzC,IAA0BA,GAWlBK,YAAY,qBACbU,I,mjBClBT,IA+BeI,EA/BI,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,WAAsC,IAA1BrF,QAE5BsF,EAAY,KADK,CAAEzF,MAAO,GAAIG,aADwB,WAAhBG,EAAgB,IAkB1D,OACE,yBAAK+D,UAAU,0BACX,0BAAMA,UAAU,iBAAiBqB,aAAW,MAAMC,KAAK,OAAvD,KACA,2BACExE,KAAK,OACLsD,YAAY,oBACZH,aAAcmB,EAAazF,MAC3BgE,SAAU,SAAAO,GAAG,OArBJH,EAqBgB,CAACpE,MAAOuE,EAAIC,OAAON,YApBlDuB,EAAY,KACPA,EADO,GAEPrB,IAHP,IAAiBA,GAsBTwB,WAAY,SAAArB,GAAG,OAfvB,SAAiBA,GACM,KAAjBA,EAAIsB,WACNL,GAAcA,EAAWC,GACzBlB,EAAIC,OAAON,MAAQ,IAYI4B,CAAQvB,Q,mjBC1BrC,IAsGewB,EAtGC,SAAC,GAAkD,IAAhDjF,EAA+C,EAA/CA,KAAMkD,EAAyC,EAAzCA,SAAUgC,EAA+B,EAA/BA,QAA+B,IAAtBC,gBAAsB,SAC5DR,EAAY,KAAQ3E,GAExB,SAASoF,IAAmB,IAAX9B,EAAU,uDAAJ,GACrBqB,EAAY,KACPA,EADO,GAEPrB,GAGLJ,GAAYA,EAASyB,GA2DvB,IAAIpB,EAAY,WAUhB,OAT4B,IAAxBoB,EAAarF,SACfiE,GAAa,mBAGV4B,IACH5B,GAAa,qBAKb,yBAAKA,UAAWA,GACd,yBAAKA,UAAU,oBAAoB8B,YAlDvC,SAAyBC,GACvB,IAAMC,EAASD,EAAYE,QACrBC,EAASH,EAAYI,QACrBC,EAAUL,EAAYM,cACxBC,GAAO,EAWX,SAASC,EAAUrC,GACjB,IAAMsC,EAAUR,EAAS9B,EAAI+B,QACvBQ,EAAUP,EAAShC,EAAIiC,QAE7BC,EAAQM,MAAMC,UAAd,qBAAwCH,EAAxC,gBAAuDC,EAAvD,OAGFG,WAAW,WACJN,GACHF,EAAQS,UAAUC,IAAI,8BAEvB,KAEHC,SAASC,iBAAiB,UAtB1B,SAASC,IACPF,SAASG,oBAAoB,UAAWD,GACxCF,SAASG,oBAAoB,YAAaX,GAE1CH,EAAQS,UAAUM,OAAO,6BACzBf,EAAQM,MAAMC,UAAd,sBACAL,GAAO,IAiBTS,SAASC,iBAAiB,YAAaT,KAsBnC,0BAAMvC,UAAU,iBAAiBqB,aAAW,MAAMC,KAAK,OAAvD,KACE,2BACExE,KAAK,OACLsG,cA9DV,SAAuBlD,GACrB,IAAMmD,EAAMnD,EAAImC,cAChBR,EAAQ,CAAED,UAAU,IACpBgB,WAAW,WACTS,EAAIC,SACH,KA0DKC,SAAU3B,EACV4B,OAAQ,SAAAtD,GAAG,OAAI2B,EAAQ,CAAED,UAAU,KACnC6B,UA3EV,SAAiBvD,GACX,CAAC,UAAU5B,QAAQ4B,EAAIe,MAAQ,GACjCY,EAAQ,CAAED,UAAU,IAGlB,CAAC,SAAStD,QAAQ4B,EAAIe,MAAQ,GAChCY,EAAQ,CAAED,UAAWA,KAsEfxB,YAAY,qBACZH,aAAcmB,EAAazF,MAC3BgE,SAAU,SAAAO,GAAG,OAAI2B,EAAQ,CAAElG,MAAOuE,EAAIC,OAAON,WAC/C,2BACE/C,KAAK,WACL4G,eAAwC,IAAxBtC,EAAarF,OAC7B4D,SAAU,SAAAO,GAAG,OAAI2B,EAAQ,CAAE9F,OAAQmE,EAAIC,OAAOwD,QAAU,EAAI,OAE9D,0BAAM3D,UAAU,sBAAsBK,QAlC9C,WACKC,OAAOC,QAAQ,kBAChBoB,EAAQlF,EAAKb,MAgCT,mBCxFKgI,EARK,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAO/H,EAAc,EAAdA,QAC5B,OACE,yBAAKkE,UAAU,iBACX,4BAAQK,QAAS,kBAAMwD,EAAM/H,KAA7B,oBCSR,SAASgI,EAAgB3H,GACxB,MAAO,CACN4H,aAAc7H,EAAgBC,GAC9BuE,UAAWvE,EAAME,IAAIb,iBACrBC,WAAYU,EAAME,IAAIZ,YAsCxB,IAgBeuI,cAAQ,kBAAMF,GAlD7B,SAA4BG,GAC3B,OAAOC,6BAAmB,CACzBrH,aACAG,UACAC,kBACAE,kBACAG,iBACAE,aACAC,gBACAI,cACEoG,IAwCWD,CAhBH,SAAC,GAA2J,IAAzJD,EAAwJ,EAAxJA,aAAclH,EAA0I,EAA1IA,WAAYG,EAA8H,EAA9HA,QAASvB,EAAqH,EAArHA,WAAYiF,EAAyG,EAAzGA,UAAWzD,EAA8F,EAA9FA,gBAAiBE,EAA6E,EAA7EA,gBAAiBG,EAA4D,EAA5DA,eAAgBE,EAA4C,EAA5CA,WAAYC,EAAgC,EAAhCA,cAAeI,EAAiB,EAAjBA,WACrJ,OACC,yBAAKmC,UAAU,YACd,yBAAKA,UAAU,qBACd,kBAAC,EAAD,CACCvE,WAAYA,EACZiF,UAAWA,EACXE,kBAAmB,SAACb,EAAKiB,GAAN,OAAY7D,EAAgB4C,EAAKiB,IACpDL,kBAAmB,SAAAZ,GAAG,OAAI9C,EAAgB8C,MA7B/C,SAAsBgE,EAAclH,EAAYG,EAASM,EAAgBE,EAAYC,EAAeI,GACnG,OAAOkG,EAAazH,IAAI,SAACC,EAAOc,GAC/B,IAAMxB,EAAQU,EAAMV,MAAMS,IAAI,SAACG,EAAMuE,GAAP,OAC7B,kBAAC,EAAD,CACCvE,KAAMA,EACNkF,QAAS,SAAA/F,GAAE,OAAI4B,EAAW5B,IAC1BqF,IAAKxE,EAAKb,GACVgG,SAAUnF,EAAKmF,SACfjC,SAAU,SAAAwE,GAAW,OAAItH,EAAWsH,QAItC,OAAO,yBAAKnE,UAAU,gBAAgBiB,IAAK1E,EAAMX,IAChD,kBAAC,EAAD,CAAaiE,MAAOtD,EAAMZ,MAAOgE,SAAU,SAAAhE,GAAK,OAAI2B,EAAe3B,EAAOY,EAAMX,KAAKgE,QAAS,kBAAM/B,EAAWtB,EAAMX,OACpHC,EACD,kBAAC,EAAD,CAAYC,QAASS,EAAMX,GAAIuF,WAAY,SAAAiD,GAAO,OAAIpH,EAAQoH,MAC9D,kBAAC,EAAD,CAAaP,MAAO,kBAAMpG,EAAc,CAAC9B,MAAO,aAAcY,EAAMX,UAelEyI,CAAaN,EAAclH,EAAYG,EAASM,EAAgBE,EAAYC,EAAeI,OC5CjFyG,MAdf,WACE,OACE,kBAAC,IAAD,CAAUxF,MAAOA,GACf,yBAAKkB,UAAU,OACb,4BAAQA,UAAU,cAChB,yBAAKuE,IAAKC,IAAMxE,UAAU,WAAWyE,IAAI,UAG3C,kBAAC,EAAD,SCJYC,QACW,cAA7BpE,OAAOqE,SAASC,UAEe,UAA7BtE,OAAOqE,SAASC,UAEhBtE,OAAOqE,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAAShC,SAASiC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.b9731ebf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import nanoid from 'nanoid';\n\nexport const initialState = {\n    primaryObjective: 'Finish projects & improve skillset',\n    keyResults: [\n        'Complete Math C',\n        'Complete 4 projects',\n        'Get detailed gold trading data for last 5 years'\n    ],\n    taskGroups: [\n        { title: 'Current sprint!', id: 1 },\n        { title: 'Some future sprint!', id: 2 },\n    ],\n    tasks: [\n        { id: 0, title: '[OKR Sys] Add group', groupId: 1, status: 1, enabled: false },\n        { id: 1, title: '[OKR Sys] Close group', groupId: 1, status: 1, enabled: false },\n        { id: 2, title: '[OKR Sys] Drag tasks', groupId: 1, status: 1, enabled: false },\n        { id: 3, title: '[OKR Sys] Drop tasks into different sprint and sort', groupId: 1, status: 0, enabled: false },\n        { id: 4, title: '[OKR Sys] Delete tasks', groupId: 1, status: 1, enabled: false },\n        { id: 5, title: '[OKR Sys] Add tasks', groupId: 1, status: 1, enabled: false },\n        { id: 6, title: '[OKR Sys] Basic state', groupId: 1, status: 1, enabled: false },\n        { id: 7, title: '[OKR Sys] Basic UI', groupId: 1, status: 1, enabled: false },\n        { id: 8, title: '[OKR Sys] Basic task behavior', groupId: 1, status: 1, enabled: false },\n        { id: 9, title: '[OKR Sys] Save state to localstorage', groupId: 1, status: 1, enabled: false },\n        { id: 9.1, title: '[OKR Sys] Deploy to Github page', groupId: 1, status: 0, enabled: false },\n\n        { id: 10, title: 'Sign up for Math C', groupId: 2, status: 0, enabled: false },\n        { id: 11, title: 'Read up on first math module', groupId: 2, status: 0, enabled: false },\n        { id: 12, title: 'GBZ audio wiring', groupId: 2, status: 0, enabled: false },\n        { id: 13, title: 'Gift for the lady', groupId: 2, status: 1, enabled: false },\n\n        { id: 14, title: 'some task ÆØÅ', groupId: undefined, status: 0, enabled: false },\n        { id: 15, title: 'some task ÆØÅ', groupId: undefined, status: 0, enabled: false },\n    ]\n}\n\nexport const getGroupedTasks = (state) => {\n    const groups = state.okr.taskGroups.map((group) => {\n        const tasks = state.okr.tasks.filter(task => task.groupId === group.id);\n        return { ...group,  tasks}\n    });\n\n    const backlogTasks = state.okr.tasks.filter(t => t.groupId === undefined);\n\n    groups.push({ title: 'Backlog tasks', id: -1, tasks: backlogTasks })\n\n    return groups;\n}\n\nexport function updateTask(task) {\n\treturn { type: okrActions.updateTask, task };\n}\n\nexport function addTask(task) {\n    return { type: okrActions.addTask, task };\n}\n\nexport function updateObjective(primaryObjective) {\n    return { type: okrActions.updatePrimaryObjective, primaryObjective };\n}\n\nexport function updateKeyResult(keyResult, index) {\n    return { type: okrActions.updateKeyResult, keyResult, index };\n}\n\nexport function updateListName(title, id) {\n    return { type: okrActions.updateGroupTitle, title, id };\n}\n\nexport function deleteTask(id) {\n    return { type: okrActions.deleteTask, id };\n}\n\nexport function addGroupAfter(group, afterId) {\n    console.log(group, afterId)\n\n    return { type: okrActions.addGroupAfter, afterId, group};\n}\n\nexport function closeGroup(id) {\n    console.log('abc', id)\n    return { type: okrActions.closeGroup, id};\n}\n\nexport const okrActions = {\n    updateTask: Symbol('Update task'),\n    addTask: Symbol('Add task'),\n    updatePrimaryObjective: Symbol('Update primary objective'),\n    updateKeyResult: Symbol('Update key result'),\n    updateGroupTitle: Symbol('Update group title'),\n    deleteTask: Symbol('Delete task'),\n    addGroupAfter: Symbol('Add group after'),\n    closeGroup: Symbol('close group')\n}\n\nexport const okr = (state = { ...initialState }, action) => {\n    switch(action.type) {\n        case okrActions.closeGroup: {\n            const tasks = state.tasks.map(t => t.groupId !== action.id ? t : {...t, groupId: undefined})\n            const taskGroups = state.taskGroups.filter(g => g.id !== action.id)\n\n            //console.log(tasks)\n\n            return { ...state, taskGroups, tasks }\n        }\n        case okrActions.updateGroupTitle: {\n            const taskGroups = state.taskGroups.map(g => {\n                return g.id === action.id ? { ...g, title: action.title }:g;\n            });\n\n            return {\n                ...state,\n                taskGroups\n            }\n        }\n        case okrActions.updateKeyResult: {\n            const keyResults = [ ...state.keyResults ];\n            keyResults[action.index] = action.keyResult;\n            return {\n                ...state,\n                keyResults\n            }\n        }\n        case okrActions.addGroupAfter: {\n            const afterGroup = state.taskGroups.find(g => g.id === action.afterId);\n            const afterIndex = state.taskGroups.indexOf(afterGroup);\n            const newGroup = { ...action.group, id: nanoid() };\n\n            const newGroups = [ ...state.taskGroups ]\n            newGroups.splice(afterIndex+1, 0, newGroup);\n\n            return {\n                ...state,\n                taskGroups: newGroups\n            }\n        }\n        case okrActions.updatePrimaryObjective: {\n            return {\n                ...state,\n                primaryObjective: action.primaryObjective\n            }\n        }\n        case okrActions.deleteTask: {\n            return {\n                ...state,\n                tasks: state.tasks.filter(t => t.id !== action.id)\n            }\n        }\n        case okrActions.updateTask: {\n            const tasks = state.tasks.map(task => task.id === action.task.id ? action.task : task);\n\n            return {\n                ...state,\n                tasks\n            }\n        }\n        case okrActions.addTask: {\n            const tasks = [\n                ...state.tasks,\n                {\n                    groupId: undefined,\n                    status: 0,\n                    ...action.task,\n                    id: nanoid()\n                }\n            ];\n\n            return {\n                ...state,\n                tasks\n            }\n        }\n        default:{\n            return state;\n        }\n    }\n}","import { combineReducers, createStore } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { okr } from './okr';\n\nexport const rootReducer = combineReducers({\n    okr\n})\n\nconst composeEnhancers = composeWithDevTools({\n    serialize: true\n});\n\nfunction getLocalStorageState() {\n    const ls = localStorage.getItem('okr');\n    return ls ? JSON.parse(ls) : {};\n}\n\nexport const store = createStore(rootReducer, getLocalStorageState(), composeEnhancers(\n    //applyMiddleware(...middleware),\n    // other store enhancers if any\n));\n\nstore.subscribe(state => {\n    localStorage.setItem('okr', JSON.stringify(store.getState()));\n});\n","import React from 'react'\n\nconst OkrListName = ({ onChange, onClose, value }) => {\n  function valueChanged(val) {\n    onChange && onChange(val);\n  }\n\n  function add() {\n    if(window.confirm(\"Are you sure?\")) {\n      onClose();\n    }\n  }\n\n  return (\n    <div className=\"okr-list-name\">\n        <input type=\"text\" defaultValue={value} onChange={evt => valueChanged(evt.target.value)} placeholder=\"List name\" />\n        <button onClick={add}>Close group</button>\n    </div>\n  )\n}\n\nexport default OkrListName","import React from 'react'\n\nconst OkrKeyResult = ({ value, onChange }) => {\n  function valueChanged(val) {\n    onChange && onChange(val);\n  }\n\n  return (\n    <div className=\"okr-key-result\">\n        <input type=\"text\" defaultValue={value} onChange={evt => valueChanged(evt.target.value)} placeholder=\"A key result...\" />\n    </div>\n  )\n}\n\nexport default OkrKeyResult","import React from 'react'\nimport OkrKeyResult from './key-result';\n\nconst Objective = ({keyResults = [], objective = '', onObjectiveChange, onAddKeyResult, onKeyResultChange }) => {\n  const keyResultJsx = keyResults.map((kr, i) => {\n    return <OkrKeyResult key={i} value={kr} onChange={val => onKeyResultChange(val, i)}></OkrKeyResult>;\n  });\n\n  function objectiveChanged(val) {\n    onObjectiveChange && onObjectiveChange(val);\n  }\n\n  return (\n    <div className=\"okr-objective\">\n        <input\n          type=\"text\"\n          className=\"okr-primary-objective\"\n          defaultValue={objective}\n          onChange={evt => objectiveChanged(evt.target.value)}\n          placeholder=\"Okr primary goal\" />\n        {keyResultJsx}\n    </div>\n  )\n}\n\nexport default Objective","import React from 'react'\n\nconst OkrTaskAdd = ({ onComplete, groupId = undefined }) => {\n  const defaultValue = { title: '', groupId };\n  let currentValue = { ...defaultValue };\n\n  function changed(val) {\n    currentValue = {\n      ...currentValue,\n      ...val\n    };\n  }\n\n  function onKeyUp(evt) {\n    if (evt.charCode === 13) { // enter\n      onComplete && onComplete(currentValue);\n      evt.target.value = '';\n    }\n  }\n\n  return (\n    <div className=\"okr-task okr-task--add\">\n        <span className=\"okr-task__type\" aria-label=\"cat\" role=\"img\">T</span>\n        <input\n          type=\"text\"\n          placeholder=\"Add a new task...\"\n          defaultValue={currentValue.title}\n          onChange={evt => changed({title: evt.target.value})}\n          onKeyPress={evt => onKeyUp(evt)}/>\n    </div>\n  );\n}\n\nexport default OkrTaskAdd","import React from 'react'\n\nconst OkrTask = ({ task, onChange, onWaste, disabled = true }) => {\n  let currentValue = { ...task };\n\n  function changed(val = {}) {\n    currentValue = {\n      ...currentValue,\n      ...val\n    };\n\n    onChange && onChange(currentValue);\n  }\n\n  function onKeyUp(evt) {\n    if ([\"Escape\"].indexOf(evt.key) > -1) { // enter, escape\n      changed({ disabled: true });\n    }\n\n    if ([\"Enter\"].indexOf(evt.key) > -1) { // enter, escape\n      changed({ disabled: !disabled });\n    }\n  }\n\n  function onDoupleClick(evt) {\n    const elm = evt.currentTarget;\n    changed({ disabled: false });\n    setTimeout(() => {\n      elm.focus();\n    }, 50);\n  }\n\n  function handleMouseDown(originalEvt) {\n    const startX = originalEvt.clientX;\n    const startY = originalEvt.clientY;\n    const taskElm = originalEvt.currentTarget;\n    let done = false;\n\n    function mouseUp() {\n      document.removeEventListener('mouseup', mouseUp);\n      document.removeEventListener('mousemove', mouseMove);\n\n      taskElm.classList.remove('okr-task__dragger--active');\n      taskElm.style.transform = `translate(0px, 0px)`;\n      done = true;\n    }\n\n    function mouseMove(evt) {\n      const offsetX = startX - evt.clientX;\n      const offsetY = startY - evt.clientY;\n\n      taskElm.style.transform = `translate(${-offsetX}px, ${-offsetY}px)`;\n    }\n\n    setTimeout(() => {// dont trigger the styles on clicks\n      if (!done) {\n        taskElm.classList.add('okr-task__dragger--active');\n      }\n    }, 150);\n\n    document.addEventListener('mouseup', mouseUp)\n    document.addEventListener('mousemove', mouseMove)\n  }\n\n  function waste() {\n    if(window.confirm(\"Are you sure?\")) {\n      onWaste(task.id)\n    }\n  }\n\n  let className = 'okr-task';\n  if (currentValue.status === 1) {\n    className += ' okr-task--done';\n  }\n\n  if (!disabled) {\n    className += ' okr-task--active';\n  }\n  \n\n  return (\n    <div className={className} >\n      <div className=\"okr-task__dragger\" onMouseDown={handleMouseDown}>\n        <span className=\"okr-task__type\" aria-label=\"cat\" role=\"img\">T</span>\n          <input\n            type=\"text\"\n            onDoubleClick={onDoupleClick}\n            readOnly={disabled}\n            onBlur={evt => changed({ disabled: true })}\n            onKeyDown={onKeyUp}\n            placeholder=\"Something to do...\"\n            defaultValue={currentValue.title}\n            onChange={evt => changed({ title: evt.target.value })} />\n          <input\n            type=\"checkbox\"\n            defaultChecked={currentValue.status === 1}\n            onChange={evt => changed({ status: evt.target.checked ? 1 : 0 })}\n            />\n          <span className=\"okr-task__deletebtn\" onClick={waste}>&#x1F5D1;</span>\n      </div>\n    </div>\n  )\n}\n\nexport default OkrTask","import React from 'react'\n\nconst OkrAddGroup = ({ onAdd, groupId }) => {\n  return (\n    <div className=\"okr-add-group\">\n        <button onClick={() => onAdd(groupId)}>Add group here</button>\n    </div>\n  )\n}\n\nexport default OkrAddGroup","import React from 'react'\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport './styles.css';\n\nimport OkrListName from './parts/list-name';\nimport Objective from './parts/objective';\nimport OkrTaskAdd from './parts/task-add';\nimport OkrTask from './parts/task';\nimport OkrAddGroup from './parts/add-group';\n\nimport { getGroupedTasks, updateTask, addTask, updateObjective, updateKeyResult, updateListName, deleteTask, addGroupAfter, closeGroup } from '../../store/okr';\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tgroupedTasks: getGroupedTasks(state),\n\t\tobjective: state.okr.primaryObjective,\n\t\tkeyResults: state.okr.keyResults,\n\t};\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn bindActionCreators({\n\t\tupdateTask,\n\t\taddTask,\n\t\tupdateObjective,\n\t\tupdateKeyResult,\n\t\tupdateListName,\n\t\tdeleteTask,\n\t\taddGroupAfter,\n\t\tcloseGroup\n\t}, dispatch);\n}\n\nfunction groupedProps(groupedTasks, updateTask, addTask, updateListName, deleteTask, addGroupAfter, closeGroup) {\n\treturn groupedTasks.map((group, index) => {\n\t\tconst tasks = group.tasks.map((task, i) =>\n\t\t\t<OkrTask\n\t\t\t\ttask={task}\n\t\t\t\tonWaste={id => deleteTask(id)}\n\t\t\t\tkey={task.id}\n\t\t\t\tdisabled={task.disabled}\n\t\t\t\tonChange={updatedTask => updateTask(updatedTask)}>\n\t\t\t</OkrTask>\n\t\t);\n\n\t\treturn <div className=\"okr-task-list\" key={group.id}>\n\t\t\t<OkrListName value={group.title} onChange={title => updateListName(title, group.id)} onClose={() => closeGroup(group.id)}></OkrListName>\n\t\t\t{tasks}\n\t\t\t<OkrTaskAdd groupId={group.id} onComplete={newTask => addTask(newTask)}></OkrTaskAdd>\n\t\t\t<OkrAddGroup onAdd={() => addGroupAfter({title: 'New Group'}, group.id)}></OkrAddGroup>\n\t\t</div>;\n\t})\n}\n\nconst Okr = ({ groupedTasks, updateTask, addTask, keyResults, objective, updateObjective, updateKeyResult, updateListName, deleteTask, addGroupAfter, closeGroup }) => {\n\treturn (\n\t\t<div className=\"okr-page\">\n\t\t\t<div className=\"okr-page__content\">\n\t\t\t\t<Objective\n\t\t\t\t\tkeyResults={keyResults}\n\t\t\t\t\tobjective={objective}\n\t\t\t\t\tonKeyResultChange={(val, i) => updateKeyResult(val, i)}\n\t\t\t\t\tonObjectiveChange={val => updateObjective(val)}>\n\t\t\t\t</Objective>\n\t\t\t\t{groupedProps(groupedTasks, updateTask, addTask, updateListName, deleteTask, addGroupAfter, closeGroup)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default connect(() => mapStateToProps, mapDispatchToProps)(Okr);","import React from 'react';\nimport { Provider } from 'react-redux'\n\nimport logo from './logo.svg';\nimport { store } from './store'\nimport './App.css';\nimport Okr from './components/okr';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        </header>\n\n        <Okr></Okr>\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}